# ghqc.example_config_repo
An example configuration repository for ghqc that stores an organization's QC checklists, logo, and options.

## Repo
The configuration repository created by an organization to load organization-specific attributes to ghqc apps can be named anything. The convention is to name in ghqc.org, where org is the organization name.

The https web URL is set as the GHQC_CONFIG_REPO environment variable for ghqc.
To configure ghqc to use this info repo, add the line to your .Renviron:
```
GHQC_CONFIG_REPO=https://github.com/A2-ai/ghqc.example_info_repo.git
```
To check how ghqc parses the repository, run:
```
ghqc::check_ghqc_configuration()
```
Alternatively, input the https web URL when running `ghqc::setup_ghqc()`:

```
> ghqc::setup_ghqc()

── GHQC RENVIRON SETUP ───────────────────────────────────────────────────────────────────────────────────────────────

GHQC_CONFIG_REPO is not set in your ~/.Renviron
Provide the URL to the configuring information repository: https://github.com/A2-ai/ghqc.example_info_repo.git
✔ GHQC_CONFIG_REPO was successfully updated to https://github.com/A2-ai/ghqc.example_info_repo.git in ~/.Renviron

── CONFIGURING INFORMATION REPOSITORY ────────────────────────────────────────────────────────────────────────────────

Path to download the configuration information repository (~/.local/share/ghqc/ghqc.example_info_repo) 

→ Attempting to clone https://github.com/A2-ai/ghqc.example_info_repo.git to ~/.local/share/ghqc/ghqc.example_info_repo...
✔ Successfully cloned ghqc.example_info_repo to ~/.local/share/ghqc/ghqc.example_info_repo

── ghqc.example_info_repo Local Content ──

✔ logo.png successfully found

✔ 'note' successfully found

    "Note: Please modify checklist items to insert relevant QC context."
    — 

✔ Checklist directory successfully found

── Checklist directory content 
✔ advanced_checklist.yaml
✔ simple_checklist.yaml
```

## Repo Structure

The the config repo must have a folder named "checklists" in the root.
The logo.png and options.yaml are optional.

If the logo.png or options.yaml are included, they must have those names exactly to be recognized by ghqc.

## Checklists

Checklists should be located in the checklists folder.
All checklists are yaml files with one of the following structures:

### Simple structure

yaml contents:
```
General Script:
  - good documentation
  - only relative paths to sourced files
  - consistent style and naming conventions
```
Output rendered in GitHub Issue:

<img width="324" alt="Screenshot 2025-01-23 at 3 25 33 PM" src="https://github.com/user-attachments/assets/246b1040-df10-491d-ad34-48fa420e1004" />

The simple structure:
- begins with the name of the checklist to be displayed in `ghqc_assign_app()` as the key
- the value is a list of checklist items, each of which is prepended with a tick mark on a new line

### Header structure
yaml contents:
```
Report:
  Table of Contents:
    - depth of 2

  Body:
    - Page numbers exist on each page
    - Page numbers indicate total page length (e.g. Page 1 of 3)

  Tables and Figures:
    - Titles are correct
    - Captions are descriptive
    - Footnotes are accurate

  Appendix:
    - |-
      Sources are given in one of the following formats:
        1) APA
        2) MLA
        3) Chicago
```
Output rendered in GitHub Issue:

<img width="432" alt="Screenshot 2025-01-23 at 3 26 29 PM" src="https://github.com/user-attachments/assets/4fd7c6a8-7489-4555-91cf-17ba532efee3" />

The header structure:
- begins with the name of the checklist to be displayed in `ghqc_assign_app()` as the key
- the value is a set of headers, which are keys themselves
- the value of each header key is a list of checklist items to appear under the header
- each checklist item is prepended with a tick mark on a new line

### Extra considerations
- To include a colon in a checklist item, wrap it in quotation marks.\
  Example:
    ```
    - "the code is: readable, scalable, and documented"
    ```
- To span a checklist item across multiple lines, begin the first line with the pipe operator, then start the checklist item contents on the next line.\
  Example:
  ```
  - |-
      Sources are given in one of the following formats:
        1) APA
        2) MLA
        3) Chicago
  ```

## Logo

This file is optional.\
If included, it should be named logo.png to be recognized by the package.\
The function of this file is to supply an image appear in the header of each page of QC Records generated by `ghqc_record_app()`.\
For example, the logo of one's institution may be used.\
If not included, no image will appear in the headers of QC Records generated by `ghqc_record_app()`.

For example, here is the ghqc logo rendered in a QC Record:

<img width="873" alt="Screenshot 2025-01-23 at 4 52 27 PM" src="https://github.com/user-attachments/assets/e76ded2d-9449-4491-b99f-646fd8f60f2d" />


## Options

This file is optional.\
If included, it should be named options.yaml to be recognized by the package.\
The function of this file is to supply various user-options to ghqc operations.

### Recognized inputs
#### `prepended_checklist_note`

This option is optionally included.\
The function of this option is to prepend checklists rendered to GitHub with a note for users (either the author or QCer). For example, the note may prompt the script author to modify checklist items to make them more specific to the given script.\
If not included, no note will appear before generated checklists.


The key is `prepended_checklist_note`, and the value is the contents of the note.

Example:
```
prepended_checklist_note: "Note: Please modify checklist items to insert relevant QC context."
```
Output rendered in GitHub Issue:

<img width="450" alt="Screenshot 2025-01-23 at 4 47 46 PM" src="https://github.com/user-attachments/assets/f8daa174-b1fd-4d07-bd43-203d95b6408f" />


#### `checklist_display_name_var`

This option is optionally included.\
The function of this option is to change the display name of the word "checklist" in `ghqc_assign_app()`.\
If not included, the word "checklist" will be displayed by default.

The key is `checklist_display_name_var`, and the value is the name to display in place of the word "checklist".

Example:
```
checklist_display_name_var: "QC Assessment List"
```
Output rendered in `ghqc_assign_app()`:

<img width="589" alt="Screenshot 2025-01-23 at 4 58 58 PM" src="https://github.com/user-attachments/assets/dd769de0-e2f4-443e-8437-e7189d17a65f" />


## Repository and checklist validation in ghqc

ghqc will validate the structure of the repository and checklists when cloned via `setup_ghqc()`.

If the repository isn't formatted according to ghqc convention (the only requirement is the checklists directory):

<img width="690" alt="Screenshot 2025-01-24 at 9 39 08 AM" src="https://github.com/user-attachments/assets/58eeb815-e0ec-47ca-86f0-ff749d10e772" />

If this directory isn't present, an error will occur when running `ghqc_assign_app()`:

<img width="699" alt="Screenshot 2025-01-24 at 9 40 16 AM" src="https://github.com/user-attachments/assets/b06c2b50-eea9-447b-b388-d19fec211daf" />



If checklists aren't formatted according to ghqc convention:

<img width="763" alt="Screenshot 2025-01-24 at 9 32 21 AM" src="https://github.com/user-attachments/assets/40045027-f2ef-47f5-8847-485829785f21" />



